\begin{figure}[H]
   \centering
   \begin{tikzpicture}[x=0.02cm,y=0.02cm]
   % place nodes
\node[location] at (120, 136)   (id0) {c};
\node[location] at (376, 264)   (id1) {c};
\node[location] at (432, -48)   (id2) {c};
\node[location] at (432, 40)   (id3) {c};
\node[location] at (576, 40)   (id4) {};
\node[location] at (576, -128)   (id5) {};
\node[location] at (336, 208)   (id6) {c};
\node[init] at (-80, 224)   (id7) {c};
\node[location] at (-32, -368)   (id8) {c};
\node[location] at (56, -368)   (id9) {c};
\node[location] at (-232, -128)   (id10) {c};
\node[location] at (-232, -64)   (id11) {c};
\node[location] at (120, -32)   (id12) {c};
\node[location] at (248, -368)   (id13) {c};
\node[location] at (240, 136)   (id14) {c};
\node[location] at (238, -127)   (id15) {};
\node[location] at (-82, -127)   (id16) {c};
\node[location] at (-83, 134)   (id17) {};
   % place node labels
   % place transition labels
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (70,176) {\begin{tabular}{l}\textcolor{guard}{active[com] != RECEIVE\_INDEX}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (110,128) {\begin{tabular}{l}\textcolor{guard}{active[com] == }\\\textcolor{guard}{RECEIVE\_INDEX}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (118,104) {\begin{tabular}{l}\textcolor{sync}{release[com]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-50,264) {\begin{tabular}{l}\textcolor{sync}{release[sat\_id]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-50,248) {\begin{tabular}{l}\textcolor{update}{active[sat\_id] = -1}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (406,128) {\begin{tabular}{l}\textcolor{sync}{release[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (406,152) {\begin{tabular}{l}\textcolor{sync}{release[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (398,288) {\begin{tabular}{l}\textcolor{guard}{task == TRANSMIT\_INDEX}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (406,264) {\begin{tabular}{l}\textcolor{sync}{not\_rdy\_to\_rec[com]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (262,-32) {\begin{tabular}{l}\textcolor{sync}{transmit\_data[com]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (286,8) {\begin{tabular}{l}\textcolor{sync}{request[com]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (454,-32) {\begin{tabular}{l}\textcolor{guard}{rdyToTrans()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (438,-48) {\begin{tabular}{l}\textcolor{sync}{request[sat\_id]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (446,56) {\begin{tabular}{l}\textcolor{guard}{rdyToTrans()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (438,40) {\begin{tabular}{l}\textcolor{sync}{request[sat\_id]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (518,16) {\begin{tabular}{l}\textcolor{guard}{orientation(sat\_id) \&\& }\\\textcolor{guard}{!rdyToTrans()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (518,-8) {\begin{tabular}{l}\textcolor{sync}{transmit\_data[com]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (334,-80) {\begin{tabular}{l}\textcolor{guard}{task == TRANSMIT\_INDEX}\\\textcolor{guard}{\&\& !is\_synced \&\&}\\\textcolor{guard}{active[com] == -1}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (382,-144) {\begin{tabular}{l}\textcolor{sync}{go!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (334,-128) {\begin{tabular}{l}\textcolor{update}{is\_synced = true}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (406,232) {\begin{tabular}{l}\textcolor{sync}{not\_rdy\_to\_rec[com]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (278,80) {\begin{tabular}{l}\textcolor{sync}{request[sat\_id]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (134,240) {\begin{tabular}{l}\textcolor{guard}{hasSpace()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (102,224) {\begin{tabular}{l}\textcolor{sync}{transmit\_data[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (78,208) {\begin{tabular}{l}\textcolor{update}{task = RECEIVE\_INDEX,}\\\textcolor{update}{active[sat\_id] = RECEIVE\_INDEX}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-162,192) {\begin{tabular}{l}\textcolor{update}{set\_com()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-18,-176) {\begin{tabular}{l}\textcolor{guard}{!runnable[task]}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-34,-192) {\begin{tabular}{l}\textcolor{sync}{not\_rdy\_to\_rec[sat\_id]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-197,-229) {\begin{tabular}{l}\textcolor{guard}{runnable[task]}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-202,-248) {\begin{tabular}{l}\textcolor{sync}{preemt[sat\_id]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-250,-264) {\begin{tabular}{l}\textcolor{update}{active[sat\_id] = front()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-18,-376) {\begin{tabular}{l}\textcolor{sync}{check?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-194,-128) {\begin{tabular}{l}\textcolor{sync}{check?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-258,-144) {\begin{tabular}{l}\textcolor{update}{active[sat\_id] = front()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-234,-80) {\begin{tabular}{l}\textcolor{sync}{check!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-186,48) {\begin{tabular}{l}\textcolor{guard}{queue[sat\_id][0] == -1 ||}\\\textcolor{guard}{!runnable[queue[sat\_id][0]]}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-186,16) {\begin{tabular}{l}\textcolor{update}{active[sat\_id] = -1}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-50,-32) {\begin{tabular}{l}\textcolor{sync}{check?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-58,0) {\begin{tabular}{l}\textcolor{update}{orderQueue(),}\\\textcolor{update}{active[sat\_id] = front()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (86,-352) {\begin{tabular}{l}\textcolor{guard}{!lowerPriority()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (102,-368) {\begin{tabular}{l}\textcolor{sync}{check!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-58,152) {\begin{tabular}{l}\textcolor{guard}{empty(queue[sat\_id])}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-42,136) {\begin{tabular}{l}\textcolor{update}{active[sat\_id] = -1}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (278,-232) {\begin{tabular}{l}\textcolor{guard}{lowerPriority()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (278,-248) {\begin{tabular}{l}\textcolor{sync}{not\_rdy\_to\_rec[sat\_id]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (6,56) {\begin{tabular}{l}\textcolor{guard}{!empty(queue[sat\_id])}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (54,40) {\begin{tabular}{l}\textcolor{sync}{check!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (62,-224) {\begin{tabular}{l}\textcolor{guard}{validSuggestion(sat\_id) \&\&}\\\textcolor{guard}{notInternalCom()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (70,-256) {\begin{tabular}{l}\textcolor{sync}{add\_task[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (14,-272) {\begin{tabular}{l}\textcolor{update}{task = sats[sat\_id].suggested\_task,}\\\textcolor{update}{enqueue(task),}\\\textcolor{update}{RQ = sat\_id}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (174,32) {\begin{tabular}{l}\textcolor{sync}{release[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (166,64) {\begin{tabular}{l}\textcolor{update}{orderQueue(),}\\\textcolor{update}{RQ = sat\_id}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-18,-96) {\begin{tabular}{l}\textcolor{guard}{queue[sat\_id][0] != -1 \&\& }\\\textcolor{guard}{runnable[queue[sat\_id][0]]}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-18,-128) {\begin{tabular}{l}\textcolor{sync}{request[sat\_id]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-18,-144) {\begin{tabular}{l}\textcolor{update}{dequeue(), is\_synced = false}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-338,104) {\begin{tabular}{l}\textcolor{sync}{add\_task[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-346,88) {\begin{tabular}{l}\textcolor{update}{task = sats[sat\_id].suggested\_task,}\\\textcolor{update}{enqueue(task)}\\\end{tabular}};
   % place transitions
\draw[->] (id14) -- (224, 160) -- (144, 160) -- (id0) {};
\draw[->] (id14) -- (id0) {};
\draw[->] (id1) -- (-48, 264) -- (id17) {};
\draw[->] (id4) -- (568, 128) -- (id14) {};
\draw[->] (id5) -- (584, -120) -- (680, -120) -- (680, 136) -- (584, 136) -- (584, 144) -- (568, 144) -- (568, 136) -- (id14) {};
\draw[->] (id5) -- (688, -128) -- (688, -96) -- (688, 264) -- (id1) {};
\draw[->] (id2) -- (272, -48) -- (id15) {};
\draw[->] (id3) -- (272, -8) -- (id15) {};
\draw[->] (id5) -- (560, -48) -- (id2) {};
\draw[->] (id4) -- (id3) {};
\draw[->] (id5) -- (id4) {};
\draw[->] (id15) -- (id5) {};
\draw[->] (id4) -- (576, 232) -- (376, 232) -- (id1) {};
\draw[->] (id6) -- (336, 32) -- (248, 0) -- (id15) {};
\draw[->] (id17) -- (0, 208) -- (id6) {};
\draw[->] (id7) -- (id17) {};
\draw[->] (id8) -- (-32, -192) -- (112, -192) -- (id15) {};
\draw[->] (id8) -- (-80, -368) -- (id16) {};
\draw[->] (id9) -- (id8) {};
\draw[->] (id10) -- (id16) {};
\draw[->] (id11) -- (id10) {};
\draw[->] (id16) -- (id17) {};
\draw[->] (id12) -- (-48, -32) -- (-48, -80) -- (id16) {};
\draw[->] (id13) -- (id9) {};
\draw[->] (id0) -- (id17) {};
\draw[->] (id13) -- (280, -336) -- (280, -224) -- (id15) {};
\draw[->] (id0) -- (id12) {};
\draw[->] (id15) -- (208, -216) -- (208, -336) -- (id13) {};
\draw[->] (id15) -- (id14) {};
\draw[->] (id16) -- (id15) {};
\draw[->] (id17) -- (-232, 136) -- (id11) {};
   \end{tikzpicture}
   \label{fig:t_classic_v1_Scheduler}
   \caption{classic_v1_Schedulersef template}
\end{figure}
