\begin{figure}[H]
	\centering
	\begin{tikzpicture}[x=0.02cm,y=0.02cm]
	% place nodes
\node[location] at (-722, 1989) (id18) {c};
\node[location] at (-85, 1666) (id19) {c};
\node[location] at (-85, 2057) (id20) {c};
\node[location] at (-340, 1989) (id21) {c};
\node[location] at (-85, 1989) (id22) {};
\node[location] at (-527, 1989) (id23) {c};
\node[location] at (-85, 1810) (id24) {};
\node[location] at (-340, 1810) (id25) {};
\node[location] at (-340, 1666) (id26) {c};
\node[init] at (-722, 1666) (id27) {};
	% place node labels
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-979,1988) {\begin{tabular}{l}\textcolor{invariant}{idle '== 0 \&\&}\\\textcolor{invariant}{work '== 0 \&\&}\\\textcolor{invariant}{wait '== 1}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-979,1926) {\begin{tabular}{l}\textcolor{invariant}{idle '== 0 \&\&}\\\textcolor{invariant}{work '== 1 \&\&}\\\textcolor{invariant}{wait '== 0}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-978,2181) {\begin{tabular}{l}\textcolor{invariant}{run\_time[task]  \&lt;= }\\\textcolor{invariant}{getDeadline() \&\&}\\\textcolor{invariant}{exe\_time + time\_used[task]  \&lt;= }\\\textcolor{invariant}{getExeTime() \&\&}\\\textcolor{invariant}{idle '== 0 \&\&}\\\textcolor{invariant}{work '== 1 \&\&}\\\textcolor{invariant}{wait '== 0}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-968,1901) {\begin{tabular}{l}\textcolor{invariant}{idle '== 1 \&\&}\\\textcolor{invariant}{work '== 0 \&\&}\\\textcolor{invariant}{wait '== 0}\\\end{tabular}};
	% place transition labels
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-519,1977) {\begin{tabular}{l}\textcolor{sync}{request[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-519,1960) {\begin{tabular}{l}\textcolor{update}{preemt\_task()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-706,1964) {\begin{tabular}{l}\textcolor{guard}{!empty(waiting\_queue)}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-706,1947) {\begin{tabular}{l}\textcolor{sync}{next[sat\_id]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-706,1930) {\begin{tabular}{l}\textcolor{update}{resume\_task()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-732,1866) {\begin{tabular}{l}\textcolor{guard}{empty(waiting\_queue)}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-732,1849) {\begin{tabular}{l}\textcolor{sync}{release[sat\_id]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-62,1871) {\begin{tabular}{l}\textcolor{sync}{preemt[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-230,1671) {\begin{tabular}{l}\textcolor{update}{preemt\_task()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-150,1711) {\begin{tabular}{l}\textcolor{sync}{preemt[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-390,2063) {\begin{tabular}{l}\textcolor{sync}{release[sat\_id]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-349,1917) {\begin{tabular}{l}\textcolor{sync}{release[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-222,1879) {\begin{tabular}{l}\textcolor{sync}{release[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-278,2007) {\begin{tabular}{l}\textcolor{sync}{release[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-230,2039) {\begin{tabular}{l}\textcolor{guard}{run\_time[task] \&gt;= getDeadline()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-746,2123) {\begin{tabular}{l}\textcolor{guard}{activeIsTrans() \&\& }\\\textcolor{guard}{orientation(sat\_id)}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-746,2081) {\begin{tabular}{l}\textcolor{sync}{request[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-748,2062) {\begin{tabular}{l}\textcolor{update}{startNew()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-219,1970) {\begin{tabular}{l}\textcolor{sync}{request[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-219,1953) {\begin{tabular}{l}\textcolor{update}{exe\_time = 0,}\\\textcolor{update}{calc\_cost()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-151,1928) {\begin{tabular}{l}\textcolor{guard}{isInternalCom() \&\&}\\\textcolor{guard}{orientation(sat\_id)}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-151,1894) {\begin{tabular}{l}\textcolor{sync}{slew\_sat[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-714,1994) {\begin{tabular}{l}\textcolor{update}{resetPriority(),}\\\textcolor{update}{resetProgress(),}\\\textcolor{update}{active[sat\_id] = waiting\_queue[0]}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-673,1892) {\begin{tabular}{l}\textcolor{guard}{run\_time[task] \&gt;= }\\\textcolor{guard}{getDeadline() \&\& }\\\textcolor{guard}{exe\_time + time\_used[task]  \&lt; }\\\textcolor{guard}{getExeTime()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-673,1815) {\begin{tabular}{l}\textcolor{update}{update\_storage(1)}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-228,1792) {\begin{tabular}{l}\textcolor{guard}{!isInternalCom() \&\&}\\\textcolor{guard}{orientation(sat\_id)}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-228,1758) {\begin{tabular}{l}\textcolor{sync}{slew\_sat[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-228,1741) {\begin{tabular}{l}\textcolor{update}{exe\_time = 0}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-294,1855) {\begin{tabular}{l}\textcolor{guard}{!orientation(sat\_id)}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-294,1839) {\begin{tabular}{l}\textcolor{sync}{slew\_sat[sat\_id]!}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-518,1911) {\begin{tabular}{l}\textcolor{guard}{exe\_time + time\_used[task] }\\\textcolor{guard}{==  getETime()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-518,1887) {\begin{tabular}{l}\textcolor{update}{reportDone()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-534,1873) {\begin{tabular}{l}\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-302,1727) {\begin{tabular}{l}\textcolor{update}{exe\_time = 0,}\\\textcolor{update}{calc\_cost(),}\\\textcolor{update}{pre++}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-462,1735) {\begin{tabular}{l}\textcolor{sync}{request[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-454,1719) {\begin{tabular}{l}\textcolor{update}{preemt\_task()}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-596,1747) {\begin{tabular}{l}\textcolor{guard}{!activeTrans() ||}\\\textcolor{guard}{(activeTrans() \&\&}\\\textcolor{guard}{!orientation(sat\_id))}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-596,1696) {\begin{tabular}{l}\textcolor{sync}{request[sat\_id]?}\\\end{tabular}};
\node[anchor=north west, text width=10cm, font=\tiny, align=left] at (-596,1671) {\begin{tabular}{l}\textcolor{update}{startNew(),}\\\textcolor{update}{calc\_cost()}\\\end{tabular}};
	% place transitions
\draw[->] (id25) -- (-391, 1921) -- (id23) {};
\draw[->] (id18) -- (-671, 1861) -- (-680, 1751) -- (id27) {};
\draw[->] (id18) -- (id27) {};
\draw[->] (id22) -- (-4, 1954) -- (-4, 1802) -- (-4, 1666) -- (id19) {};
\draw[->] (id19) -- (id26) {};
\draw[->] (id24) -- (id19) {};
\draw[->] (id20) -- (-527, 2057) -- (id23) {};
\draw[->] (id21) -- (id23) {};
\draw[->] (id25) -- (id21) {};
\draw[->] (id24) -- (-204, 1890) -- (-196, 1898) -- (-212, 1914) -- (-220, 1906) -- (id21) {};
\draw[->] (id22) -- (id21) {};
\draw[->] (id22) -- (id20) {};
\draw[->] (id27) -- (-756, 1666) -- (-755, 2074) -- (12, 2074) -- (12, 1986) -- (id22) {};
\draw[->] (id22) -- (id25) {};
\draw[->] (id24) -- (id22) {};
\draw[->] (id23) -- (id18) {};
\draw[->] (id25) -- (-527, 1836) -- (id23) {};
\draw[->] (id24) -- (-220, 1778) -- (id25) {};
\draw[->] (id25) -- (-220, 1834) -- (id24) {};
\draw[->] (id25) -- (-444, 1906) -- (id23) {};
\draw[->] (id26) -- (-292, 1682) -- (-292, 1786) -- (id25) {};
\draw[->] (id25) -- (id26) {};
\draw[->] (id27) -- (-459, 1666) -- (-459, 1810) -- (id25) {};
	\end{tikzpicture}
	\caption{The Processor template}
	\label{fig:t_classic_v1_Processor}
\end{figure}
